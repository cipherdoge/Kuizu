{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"register-container\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-danger\"\n};\nconst _hoisted_5 = {\n  class: \"form-group\"\n};\nconst _hoisted_6 = {\n  class: \"form-group\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"popup-overlay\"\n};\nconst _hoisted_9 = {\n  class: \"popup\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[12] || (_cache[12] = _createElementVNode(\"h2\", null, \"User Registration\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.register && $options.register(...args), [\"prevent\"])),\n    class: \"register-form\"\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"username\"\n  }, \"Username:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formData.username = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.username]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"password\"\n  }, \"Password\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    class: \"form-control\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.password = $event),\n    required: \"\",\n    minlength: \"6\",\n    placeholder: \"Enter password\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.password]]), _ctx.password && _ctx.password.length < 6 ? (_openBlock(), _createElementBlock(\"small\", _hoisted_4, \" Password must be at least 6 characters long. \")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_5, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    for: \"dob\"\n  }, \"Date of Birth:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"dob\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formData.dob = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.dob]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"qualification\"\n  }, \"Qualification:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"qualification\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.formData.qualification = $event),\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.qualification]])]), _cache[10] || (_cache[10] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Register\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" Popup for successful registration \"), $data.showPopup ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_cache[11] || (_cache[11] = _createElementVNode(\"p\", null, \"Registration Successful!\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.closePopup && $options.closePopup(...args))\n  }, \"OK\")])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","register","_hoisted_2","for","type","id","$event","$data","formData","username","required","_hoisted_3","_ctx","password","minlength","placeholder","length","_hoisted_4","_createCommentVNode","_hoisted_5","dob","_hoisted_6","qualification","error","_hoisted_7","_toDisplayString","showPopup","_hoisted_8","_hoisted_9","onClick","closePopup"],"sources":["/home/ritvik/quiz_master_v2/Kuizu/frontend/src/components/UserRegister.vue"],"sourcesContent":["<template>\n    <div class=\"register-container\">\n      <h2>User Registration</h2>\n      <form @submit.prevent=\"register\" class=\"register-form\">\n        <div class=\"form-group\">\n          <label for=\"username\">Username:</label>\n          <input \n            type=\"text\"\n            id=\"username\"\n            v-model=\"formData.username\"\n            required\n          >\n        </div>\n  \n        <div class=\"form-group\">\n          <label for=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            class=\"form-control\"\n            v-model=\"password\"\n            required\n            minlength=\"6\"\n            placeholder=\"Enter password\"\n          >\n          <small v-if=\"password && password.length < 6\" class=\"text-danger\">\n            Password must be at least 6 characters long.\n          </small>\n        </div>\n\n  \n        <div class=\"form-group\">\n          <label for=\"dob\">Date of Birth:</label>\n          <input\n            type=\"date\"\n            id=\"dob\"\n            v-model=\"formData.dob\"\n            required\n          >\n        </div>\n  \n        <div class=\"form-group\">\n          <label for=\"qualification\">Qualification:</label>\n          <input\n            type=\"text\"\n            id=\"qualification\"\n            v-model=\"formData.qualification\"\n            required\n          >\n        </div>\n  \n        <button type=\"submit\">Register</button>\n      </form>\n  \n      <div v-if=\"error\" class=\"error\">\n        {{ error }}\n      </div>\n  \n      <!-- Popup for successful registration -->\n      <div v-if=\"showPopup\" class=\"popup-overlay\">\n        <div class=\"popup\">\n          <p>Registration Successful!</p>\n          <button @click=\"closePopup\">OK</button>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  \n  export default {\n    name: 'UserRegister',\n    data() {\n      return {\n        formData: {\n          username: '',\n          password: '',\n          dob: '',\n          qualification: '',\n        },\n        error: null,\n        showPopup: false, // State to show or hide the popup\n      };\n    },\n    methods: {\n      async register() {\n        try {\n          // Format date to DD/MM/YYYY\n          const dateObj = new Date(this.formData.dob);\n          const formattedDate = `${String(dateObj.getDate()).padStart(2, '0')}/${String(\n            dateObj.getMonth() + 1\n          ).padStart(2, '0')}/${dateObj.getFullYear()}`;\n  \n          const response = await axios.post('api/register', {\n            username: this.formData.username,\n            password: this.formData.password,\n            is_admin: false,\n            dob: formattedDate,\n            qualification: this.formData.qualification,\n          });\n  \n          if (response.status === 201) {\n            this.showPopup = true; // Show the popup on successful registration\n          }\n        } catch (err) {\n          this.error = err.response?.data?.error || 'Registration failed';\n        }\n      },\n      closePopup() {\n        this.showPopup = false; // Hide the popup\n        this.$router.push('/login'); // Redirect to login after closing the popup\n      },\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .register-container {\n    max-width: 400px;\n    margin: 0 auto;\n    padding: 20px;\n  }\n  \n  .register-form {\n    display: flex;\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .form-group {\n    display: flex;\n    flex-direction: column;\n    gap: 5px;\n  }\n  \n  input {\n    padding: 8px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n  }\n  \n  button {\n    padding: 10px;\n    background-color: #34495e;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  \n  button:hover {\n    background-color: #2c3e50;\n  }\n  \n  .error {\n    color: red;\n    margin-top: 10px;\n    text-align: center;\n  }\n  \n  /* Popup styling */\n  .popup-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.5);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  \n  .popup {\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n    text-align: center;\n  }\n  \n  .popup p {\n    font-size: 1.2rem;\n    margin-bottom: 15px;\n  }\n  \n  .popup button {\n    padding: 10px 20px;\n    background-color: #007bff;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n  }\n  \n  .popup button:hover {\n    background-color: #0056b3;\n  }\n  </style>\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}